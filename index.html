<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>hehe</title>

<style>
/* ===== FONT PIXEL VI·ªÜT H√ìA ===== */
@font-face {
  font-family: 'PixelVN';
  src: url('./fonts/SVN-Retron-2000.ttf') format('truetype');
}

/* ===== BASE ===== */
* { box-sizing: border-box; }

body {
  margin: 0;
  min-height: 100vh;
  background: linear-gradient(#5c0f1a, #2b060b);
  color: #fff;
  font-family: 'PixelVN', monospace;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 16px;
}

/* ===== CONTAINER ===== */
.container {
  width: 100%;
  max-width: 360px;
  position: relative;
  z-index: 2;
}

/* ===== CARD ===== */
.box {
  background: #8b1e2d;
  padding: 24px 20px;
  border: 4px solid #ffffff;
  border-radius: 12px;
  text-align: center;
  box-shadow: 0 0 25px rgba(255,0,0,.35);
}

/* ===== TEXT ===== */
h1, h2 {
  margin: 0 0 14px;
  line-height: 1.4;
}

p {
  font-size: 14px;
  line-height: 1.8;
  margin: 8px 0;
}

.hint {
  font-size: 12px;
  color: #ffe5e5;
  opacity: .9;
}

/* ===== INPUT & BUTTON ===== */
input {
  width: 100%;
  padding: 12px;
  margin: 14px 0;
  font-family: inherit;
  font-size: 16px;
  text-align: center;
  border: none;
  border-radius: 6px;
}

button {
  width: 100%;
  padding: 14px;
  margin-top: 8px;
  font-family: inherit;
  font-size: 15px;
  cursor: pointer;
  border: none;
  border-radius: 6px;
  background: #e63946;
  color: #fff;
}

button.secondary {
  background: #b02a37;
}

button:hover {
  background: #ffd166;
  color: #000;
}

/* ===== SNOW ===== */
.snow {
  pointer-events: none;
  position: fixed;
  inset: 0;
  background-image:
    radial-gradient(white 1px, transparent 1px),
    radial-gradient(white 1px, transparent 1px);
  background-size: 18px 18px, 28px 28px;
  animation: snow 16s linear infinite;
  opacity: .7;
  z-index: 0;
}

@keyframes snow {
  from { background-position: 0 0, 0 0; }
  to { background-position: 0 100vh, 0 100vh; }
}

/* ===== PIXEL TREE (CENTER FIX) ===== */
.tree {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 16px 0;
}

.tree .layer {
  width: 0;
  height: 0;
  border-left: 36px solid transparent;
  border-right: 36px solid transparent;
  border-bottom: 28px solid #0f9d58;
  margin-bottom: -6px;
}

.tree .layer.small {
  border-left-width: 28px;
  border-right-width: 28px;
  border-bottom-width: 22px;
}

.tree .layer.dark {
  border-bottom-color: #0b7d44;
}

.tree .trunk {
  width: 22px;
  height: 26px;
  background: #6b3e26;
  margin-top: 4px;
}

/* ===== FIREWORK ===== */
#fireworks {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 3;
}

.firework {
  position: absolute;
  width: 6px;
  height: 6px;
  background: #ffd166;
  animation: boom 1s ease-out forwards;
}

@keyframes boom {
  from { transform: scale(1); opacity: 1; }
  to { transform: scale(5); opacity: 0; }
}

/* ===== SHAKE ===== */
@keyframes shake {
  0% { transform: translateX(0); }
  25% { transform: translateX(-4px); }
  50% { transform: translateX(4px); }
  75% { transform: translateX(-4px); }
  100% { transform: translateX(0); }
}

.shake { animation: shake .3s; }

/* ===== UTILS ===== */
.hidden { display: none; }

/* ===== MOBILE ===== */
@media (max-width: 480px) {
  p { font-size: 13px; }
  h1 { font-size: 20px; }
}
</style>
</head>

<body>

<div class="snow"></div>
<div id="fireworks"></div>

<audio id="bgm" loop>
  <source src="./music/snowfall.mp3" type="audio/mpeg">
</audio>

<div class="container">

  <!-- üîê LOCK -->
  <div class="box" id="lock">
    <h2>üîí hehe</h2>
    <p class="hint">
      4 so b co the nghi ra!?<br>
    </p>
    <input id="code" type="password" maxlength="4" inputmode="numeric" placeholder="****">
    <button onclick="unlock()">M·ªû QU√Ä üéÅ</button>
    <p id="error"></p>
  </div>

  <!-- üéÑ PAGE 1 -->
  <div class="box hidden" id="page1">
    <h1>Merry christmas</h1>

    <div class="tree">
      <div class="layer small"></div>
      <div class="layer dark"></div>
      <div class="layer"></div>
      <div class="trunk"></div>
    </div>

    <p id="typeText"></p>

    <button onclick="goPage2()">Trang sau</button>
  </div>

  <!-- üé¨ PAGE 2 -->
  <div class="box hidden" id="page2">
    <h1>M·ªôt l·ªùi h·ªèi nh·ªè</h1>
    <p>
      H√¥m n√†o r·∫£nh‚Ä¶<br>
      ƒëi xem Avatar 3 v·ªõi t nh√©!!
    </p>
    <button onclick="yes()">YES!!!</button>
    <button class="secondary" onclick="think()">ƒê·ªÉ suy nghƒ©...</button>
  </div>

</div>

<script>
const VALID_CODES = ["0208", "0611", "2602"];
const music = document.getElementById("bgm");

const lines = [
  "Gi√°ng sinh vui v·∫ª ‚ùÑÔ∏è",
];

let lineIndex = 0;
let charIndex = 0;

function unlock() {
  if (VALID_CODES.includes(code.value)) {
    lock.classList.add("hidden");
    page1.classList.remove("hidden");
    music.play();
    typeWriter();
  } else {
    error.innerText = "‚ùå Ch∆∞a ƒë√∫ng r·ªìi‚Ä¶ th·ª≠ l·∫°i nh√© üéÑ";
  }
}

function typeWriter() {
  if (lineIndex >= lines.length) return;
  const el = document.getElementById("typeText");

  if (charIndex < lines[lineIndex].length) {
    el.innerHTML += lines[lineIndex].charAt(charIndex);
    charIndex++;
    setTimeout(typeWriter, 60);
  } else {
    el.innerHTML += "<br>";
    lineIndex++;
    charIndex = 0;
    setTimeout(typeWriter, 400);
  }
}

function goPage2() {
  page1.classList.add("hidden");
  page2.classList.remove("hidden");
}

function think() {
  page2.classList.add("shake");
  setTimeout(() => page2.classList.remove("shake"), 300);
}

function yes() {
  for (let i = 0; i < 26; i++) {
    const f = document.createElement("div");
    f.className = "firework";
    f.style.left = Math.random() * innerWidth + "px";
    f.style.top  = Math.random() * innerHeight + "px";
    fireworks.appendChild(f);
    setTimeout(() => f.remove(), 1000);
  }
  setTimeout(() => alert("H·∫πn b·∫°n ·ªü r·∫°p nh√© üíñüçø"), 400);
}
</script>

</body>
</html>

