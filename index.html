<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>hehe</title>

<style>
@font-face {
  font-family: 'PixelVN';
  src: url('./fonts/SVN-Retron-2000.ttf') format('truetype');
}

* { box-sizing: border-box; }

body {
  margin: 0;
  min-height: 100vh;
  background: linear-gradient(#5c0f1a, #2b060b);
  color: #fff;
  font-family: 'PixelVN', monospace;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 16px;
}

.container {
  width: 100%;
  max-width: 360px;
  position: relative;
  z-index: 2;
}

.box {
  background: #8b1e2d;
  padding: 24px 20px;
  border: 4px solid #ffffff;
  border-radius: 12px;
  text-align: center;
  box-shadow: 0 0 25px rgba(255,0,0,.35);
}

h1, h2 {
  margin: 0 0 14px;
  line-height: 1.4;
}

p {
  font-size: 14px;
  line-height: 1.8;
  margin: 8px 0;
}

.hint {
  font-size: 12px;
  color: #ffe5e5;
  opacity: .9;
}

input {
  width: 100%;
  padding: 12px;
  margin: 14px 0;
  font-family: inherit;
  font-size: 16px;
  text-align: center;
  border: none;
  border-radius: 6px;
}

button {
  width: 100%;
  padding: 14px;
  margin-top: 8px;
  font-family: inherit;
  font-size: 15px;
  cursor: pointer;
  border: none;
  border-radius: 6px;
  background: #e63946;
  color: #fff;
}

button.secondary {
  background: #b02a37;
}

button:hover {
  background: #ffd166;
  color: #000;
}

.snow {
  pointer-events: none;
  position: fixed;
  inset: 0;
  background-image:
    radial-gradient(white 1px, transparent 1px),
    radial-gradient(white 1px, transparent 1px);
  background-size: 18px 18px, 28px 28px;
  animation: snow 16s linear infinite;
  opacity: .7;
  z-index: 0;
}

@keyframes snow {
  from { background-position: 0 0, 0 0; }
  to { background-position: 0 100vh, 0 100vh; }
}

.tree {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 16px 0;
}

.tree .layer {
  width: 0;
  height: 0;
  border-left: 36px solid transparent;
  border-right: 36px solid transparent;
  border-bottom: 28px solid #0f9d58;
  margin-bottom: -6px;
}

.tree .layer.small {
  border-left-width: 28px;
  border-right-width: 28px;
  border-bottom-width: 22px;
}

.tree .layer.dark {
  border-bottom-color: #0b7d44;
}

.tree .trunk {
  width: 22px;
  height: 26px;
  background: #6b3e26;
  margin-top: 4px;
}

#fireworks {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 3;
}

.firework {
  position: absolute;
  width: 6px;
  height: 6px;
  background: #ffd166;
  animation: boom 1s ease-out forwards;
}

@keyframes boom {
  from { transform: scale(1); opacity: 1; }
  to { transform: scale(5); opacity: 0; }
}

/* ===== MODAL ===== */
.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10;
  opacity: 0;
  pointer-events: none;
  transition: opacity .3s ease;
}

.modal.show {
  opacity: 1;
  pointer-events: auto;
}

.modal-box {
  background: #8b1e2d;
  border: 4px solid #fff;
  border-radius: 12px;
  padding: 20px;
  width: 280px;
  text-align: center;
  box-shadow: 0 0 20px rgba(255,0,0,.4);
  transform: scale(.85);
  transition: transform .3s ease;
}

.modal.show .modal-box {
  transform: scale(1);
}

.hidden { display: none; }

@media (max-width: 480px) {
  p { font-size: 13px; }
  h1 { font-size: 20px; }
}
</style>
</head>

<body>

<div class="snow"></div>
<div id="fireworks"></div>

<audio id="bgm" loop>
  <source src="./music/snowfall.mp3" type="audio/mpeg">
</audio>

<div class="container">

  <!-- LOCK -->
  <div class="box" id="lock">
    <h2>üîí hehe</h2>
    <p class="hint">M·ªôt ng√†y‚Ä¶<br>n√†o ƒë√≥ c√≥ 4 s·ªë :> </p>
    <input id="code" type="password" maxlength="4" placeholder="****">
    <button onclick="unlock()">M·ªû QU√Ä üéÅ</button>
    <p id="error"></p>
  </div>

  <!-- PAGE 1 -->
  <div class="box hidden" id="page1">
    <h1>üéÑ Merry christmas</h1>
    <div class="tree">
      <div class="layer small"></div>
      <div class="layer dark"></div>
      <div class="layer"></div>
      <div class="trunk"></div>
    </div>
    <p id="typeText"></p>
    <button onclick="goPage2()">Ti·∫øp n√® üëâ</button>
  </div>

  <!-- PAGE 2 -->
  <div class="box hidden" id="page2">
    <h1>M·ªôt l·ªùi h·ªèi nh·ªè</h1>
    <p id="movieText">
      Ng√†y 26, 29, 31,... ho·∫∑c l√† ng√†y n√†o ƒë√≥ c·ªßa th√°ng 1<br>
      b·∫°n ƒëi xem Avatar 3 v·ªõi t nh√© :>
    </p>
    <button onclick="yes()">YES!!</button>
    <button id="thinkBtn" class="secondary" onclick="think()">ƒê·ªÉ xem...</button>
    <p id="thinkMsg"></p>
  </div>

</div>

<!-- PASS MODAL -->
<div id="passModal" class="modal">
  <div class="modal-box">
    <p id="passMessage"></p>
    <button onclick="closeModal()">OK ‚ú®</button>
  </div>
</div>

<!-- THINK MODAL -->
<div id="thinkModal" class="modal">
  <div class="modal-box">
    <p>Th·∫≠t s·ª± c·∫ßn ƒë·ªÉ suy nghƒ© √†?...</p>
    <button onclick="closeThinkModal()">·ª™m‚Ä¶</button>
  </div>
</div>

<script>
const music = document.getElementById("bgm");
const lines = [
  "Ch√∫c b·∫°n gi√°ng sinh vui v·∫ª nh√©!! ‚ùÑÔ∏è",
];

let lineIndex = 0;
let charIndex = 0;
let thinkCount = 0;

function unlock() {
  const v = code.value;
  const msg = document.getElementById("passMessage");

  if (v === "2602") msg.innerText = "h√¨nh nh∆∞ b·∫°n nh·ªõ ƒë·∫øn m√¨nh :>";
  else if (v === "0208") msg.innerText = "v√¨ b·∫°n n√™n m√πa ƒë√¥ng ·∫•m √°p";
  else if (v === "0611") msg.innerText = "h√¨nh nh∆∞ b·∫°n nh·ªõ ƒë·∫øn m·ªôt ng√†y r·∫•t r·∫•t ƒë·∫∑c bi·ªát c·ªßa ch√∫ng ta";
  else {
    error.innerText = "‚ùå Ch∆∞a ƒë√∫ng r·ªìi‚Ä¶ th·ª≠ l·∫°i nh√© üéÑ";
    return;
  }
  passModal.classList.add("show");
}

function closeModal() {
  passModal.classList.remove("show");
  lock.classList.add("hidden");
  page1.classList.remove("hidden");
  music.play();
  typeWriter();
}

function typeWriter() {
  if (lineIndex >= lines.length) return;
  const el = typeText;
  if (charIndex < lines[lineIndex].length) {
    el.innerHTML += lines[lineIndex][charIndex++];
    setTimeout(typeWriter, 60);
  } else {
    el.innerHTML += "<br>";
    lineIndex++;
    charIndex = 0;
    setTimeout(typeWriter, 400);
  }
}

function goPage2() {
  page1.classList.add("hidden");
  page2.classList.remove("hidden");
}

function think() {
  thinkCount++;
  thinkMsg.innerText = "Sai r·ªìi, ch·ªçn l·∫°i ƒëiiii";

  if (thinkCount > 5) {
    thinkModal.classList.add("show");
    thinkBtn.classList.add("hidden");
  }
}

function closeThinkModal() {
  thinkModal.classList.remove("show");
}

function yes() {
  for (let i = 0; i < 26; i++) {
    const f = document.createElement("div");
    f.className = "firework";
    f.style.left = Math.random() * innerWidth + "px";
    f.style.top = Math.random() * innerHeight + "px";
    fireworks.appendChild(f);
    setTimeout(() => f.remove(), 1000);
  }
  setTimeout(() => alert("H·∫πn b·∫°n ·ªü r·∫°p nh√© üíñüçø"), 400);
}
</script>

</body>
</html>
