<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>hehe</title>

<style>
@font-face {
  font-family: 'PixelVN';
  src: url('./fonts/SVN-Retron-2000.ttf') format('truetype');
}

*{box-sizing:border-box}

body{
  margin:0;
  min-height:100vh;
  background:linear-gradient(#5c0f1a,#2b060b);
  color:#fff;
  font-family:'PixelVN',monospace;
  display:flex;
  justify-content:center;
  align-items:center;
  padding:16px;
  overflow-x:hidden;
}

.container{
  width:100%;
  max-width:360px;
  position:relative;
  z-index:3;
}

.box{
  background:#8b1e2d;
  padding:24px 20px;
  border:4px solid #fff;
  border-radius:12px;
  text-align:center;
  box-shadow:0 0 25px rgba(255,0,0,.35);
}

h1,h2{margin:0 0 14px;line-height:1.4}
p{font-size:14px;line-height:1.8;margin:8px 0}

.hint{font-size:12px;color:#ffe5e5;opacity:.9}

input{
  width:100%;
  padding:12px;
  margin:14px 0;
  font-family:inherit;
  font-size:16px;
  text-align:center;
  border:none;
  border-radius:6px;
}

button{
  width:100%;
  padding:14px;
  margin-top:8px;
  font-family:inherit;
  font-size:15px;
  cursor:pointer;
  border:none;
  border-radius:6px;
  background:#e63946;
  color:#fff;
}
button.secondary{background:#b02a37}
button:hover{background:#ffd166;color:#000}

/* ‚ùÑÔ∏è Snow */
.snow{
  pointer-events:none;
  position:fixed;
  inset:0;
  background-image:
    radial-gradient(white 0.8px,transparent 1px),
    radial-gradient(white 0.6px,transparent 1px);
  background-size:26px 26px,36px 36px;
  animation:snow 28s linear infinite;
  opacity:.45;
  z-index:0;
}
@keyframes snow{
  from{background-position:0 -100px,0 -200px}
  to{background-position:0 100vh,0 100vh}
}

/* üéÄ Sticker */
.sticker{
  position:fixed;
  bottom:-20px;
  font-size:18px;
  opacity:.8;
  animation:floatSticker linear forwards;
  pointer-events:none;
  z-index:1;
}
@keyframes floatSticker{
  from{transform:translateY(0) rotate(0);opacity:0}
  10%{opacity:.8}
  to{transform:translateY(-120vh) rotate(20deg);opacity:0}
}

/* üéÑ Side trees */
.side-tree{
  position:fixed;
  bottom:0;
  width:200px;
  opacity:.9;
  z-index:1;
  pointer-events:none;
}
.side-tree.left{left:20px}
.side-tree.right{right:20px;transform:scaleX(-1)}
@media(max-width:768px){
  .side-tree{display:none}
}

/* üéÑ Tree (center) */
.tree{display:flex;flex-direction:column;align-items:center;margin:16px 0}
.tree .layer{
  width:0;height:0;
  border-left:36px solid transparent;
  border-right:36px solid transparent;
  border-bottom:28px solid #0f9d58;
  margin-bottom:-6px;
}
.tree .layer.small{
  border-left-width:28px;
  border-right-width:28px;
  border-bottom-width:22px;
}
.tree .layer.dark{border-bottom-color:#0b7d44}
.tree .trunk{width:22px;height:26px;background:#6b3e26;margin-top:4px}

/* üéÜ Fireworks */
#fireworks{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:4;
}
.spark{
  position:absolute;
  width:4px;
  height:4px;
  border-radius:50%;
  animation:spark 1.2s ease-out forwards;
}
@keyframes spark{
  from{transform:translate(0,0);opacity:1}
  to{transform:translate(var(--dx),var(--dy));opacity:0}
}

/* üí¨ Modal */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:10;
  opacity:0;
  pointer-events:none;
  transition:.3s;
}
.modal.show{opacity:1;pointer-events:auto}
.modal-box{
  background:#8b1e2d;
  border:4px solid #fff;
  border-radius:12px;
  padding:20px;
  width:280px;
  text-align:center;
  transform:scale(.85);
  transition:.3s;
}
.modal.show .modal-box{transform:scale(1)}

.hidden{display:none}
</style>
</head>

<body>

<img src="./noel.gif" class="side-tree left">
<img src="./noel.gif" class="side-tree right">

<div class="snow"></div>
<div id="fireworks"></div>

<audio id="bgm" loop>
  <source src="./snowfall.mp3" type="audio/mpeg">
</audio>

<div class="container">
  <div class="box" id="lock">
    <h2>üîí hehe</h2>
    <p class="hint">M·ªôt ng√†y‚Ä¶<br>n√†o ƒë√≥ c√≥ 4 ch·ªØ s·ªë!!? ‚ùÑÔ∏è</p>
    <input id="code" type="password" maxlength="4" placeholder="****">
    <button onclick="unlock()">M·ªû QU√Ä üéÅ</button>
    <p id="error"></p>
  </div>

  <div class="box hidden" id="page1">
    <h1>üéÑ Merry Christmas</h1>
    <div class="tree">
      <div class="layer small"></div>
      <div class="layer dark"></div>
      <div class="layer"></div>
      <div class="trunk"></div>
    </div>
    <p id="typeText"></p>
    <button onclick="goPage2()">Trang sauuu</button>
  </div>

  <div class="box hidden" id="page2">
    <h1>M·ªôt l·ªùi h·ªèi nh·ªè</h1>
    <p>Ng√†y 26, 29, 31, ho·∫∑c 1 ng√†y n√†o ƒë√≥ v√†o th√°ng 1<br>b·∫°n ƒëi xem Avatar 3 v·ªõi t nh√©?</p>
    <button onclick="yes()">YES!!</button>
    <button id="thinkBtn" class="secondary" onclick="think()">ƒê·ªÉ xem...</button>
    <p id="thinkMsg"></p>
  </div>
</div>

<div id="passModal" class="modal">
  <div class="modal-box">
    <p id="passMessage"></p>
    <button onclick="closeModal()">OK ‚ú®</button>
  </div>
</div>

<div id="thinkModal" class="modal">
  <div class="modal-box">
    <p>Th·∫≠t s·ª± c·∫ßn ƒë·ªÉ suy nghƒ© √†...?</p>
    <button onclick="closeThinkModal()">·ª™m‚Ä¶</button>
  </div>
</div>

<script>
const music=document.getElementById("bgm");
const lines=["Gi√°ng sinh vui v·∫ª ‚ùÑÔ∏è"];
let li=0,ci=0,thinkCount=0;

function unlock(){
    const v = code.value;

  if(v==="2602") passMessage.innerText="h√¨nh nh∆∞ b·∫°n nh·ªõ ƒë·∫øn m√¨nh :>";
  else if(v==="0208") passMessage.innerText="v√¨ b·∫°n n√™n m√πa ƒë√¥ng ·∫•m √°p";
  else if(v==="0611") passMessage.innerText="h√¨nh nh∆∞ b·∫°n nh·ªõ ƒë·∫øn m·ªôt ng√†y r·∫•t r·∫•t ƒë·∫∑c bi·ªát";
  else{
    error.innerText="‚ùå Ch∆∞a ƒë√∫ng r·ªìi‚Ä¶ th·ª≠ l·∫°i nh√© üéÑ";
    return;
  }

  // üîä PH√ÅT NH·∫†C NGAY TRONG USER ACTION
  music.volume = 0.45;
  music.currentTime = 0;
  music.play().catch(err=>{
    console.log("Autoplay b·ªã ch·∫∑n:", err);
  });

  passModal.classList.add("show");
}

function closeModal(){
  passModal.classList.remove("show");
  lock.classList.add("hidden");
  page1.classList.remove("hidden");
  typeWriter();
}

function typeWriter(){
  if(li>=lines.length)return;
  if(ci<lines[li].length){
    typeText.innerHTML+=lines[li][ci++];
    setTimeout(typeWriter,60);
  }else{
    li++;ci=0;
  }
}

function goPage2(){
  page1.classList.add("hidden");
  page2.classList.remove("hidden");
}

function think(){
  thinkCount++;
  thinkMsg.innerText="Sai r·ªìi, ch·ªçn l·∫°i ƒëiiii";
  if(thinkCount>5){
    thinkModal.classList.add("show");
    thinkBtn.classList.add("hidden");
  }
}
function closeThinkModal(){thinkModal.classList.remove("show")}

/* üéÜ BEAUTIFUL FIREWORK */
function firework(x,y){
  const colors=["#ffd166","#ef476f","#06d6a0","#4cc9f0","#f72585"];
  for(let i=0;i<80;i++){
    const s=document.createElement("div");
    s.className="spark";
    const a=Math.random()*Math.PI*2;
    const d=60+Math.random()*40;
    s.style.left=x+"px";
    s.style.top=y+"px";
    s.style.background=colors[Math.floor(Math.random()*colors.length)];
    s.style.setProperty("--dx",Math.cos(a)*d+"px");
    s.style.setProperty("--dy",Math.sin(a)*d+"px");
    fireworks.appendChild(s);
    setTimeout(()=>s.remove(),1200);
  }
}

function yes(){
  const bursts = 6;        // s·ªë l·∫ßn n·ªï
  let count = 0;

  const interval = setInterval(() => {
    // v·ªã tr√≠ ng·∫´u nhi√™n nh∆∞ng tr√°nh s√°t m√©p
    const x = innerWidth * (0.2 + Math.random() * 0.6);
    const y = innerHeight * (0.2 + Math.random() * 0.4);

    firework(x, y);
    count++;

    if (count >= bursts) {
      clearInterval(interval);
      setTimeout(() => {
        alert("H·∫πn b·∫°n ·ªü r·∫°p nh√© üíñüçø");
      }, 600);
    }
  }, 300);
}

/* üéÄ Sticker */
const stickers=["‚≠ê","‚ú®","üíñ","üéÑ","‚ùÑÔ∏è"];
setInterval(()=>{
  const s=document.createElement("div");
  s.className="sticker";
  s.innerText=stickers[Math.floor(Math.random()*stickers.length)];
  s.style.left=Math.random()*innerWidth+"px";
  s.style.fontSize=14+Math.random()*10+"px";
  s.style.animationDuration=18+Math.random()*10+"s";
  document.body.appendChild(s);
  setTimeout(()=>s.remove(),30000);
},2500);
</script>

</body>
</html>

